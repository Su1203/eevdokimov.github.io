<button id="start">Start!</button>
<div>
    <svg class="spinner">...</svg>
</div>
<div id="result"></div>

<script>
  const bc = new BroadcastChannel("test_channel");
  let thread = null; 

  document.getElementById('start').addEventListener('click', () => {
    if (window.Worker) {
      if (!thread) {
          thread = new Worker("./thread.js");
      }    

      thread.addEventListener('message', evt => {
        document.getElementById('result').innerHTML = evt.data;
      });

      
      thread.postMessage({ timeout: 5000 });
    }
});
</script>